/*
 *  jquery-dragOnZone - v0.1.0
 *  A plugin to detect drag & drop events.
 *  http://miguel-molina.es/dragonzone
 *
 *  Made by Miguel Molina
 *  Under MIT License
 */
!function(a,b,c,d){function e(a){console.log("dragOnZone: "+a)}function f(b,c){this._defaults=g,this._initState(),this.dropZone=a(b),this.dropZone.length>0?(this.options=a.extend({},g,c),this.outZone=a(this.options.outZone),this.init()):e('"dropZone" has not any element.')}var g={context:{},debug:!1,outZone:!1,onDragOutsideStart:function(){},onDragOutsideEnd:function(){},onDragInsideStart:function(){},onDragInsideEnd:function(){},onDropDone:function(){}};f.prototype={_initState:function(){return this._state={semaphore1:!1,semaphore2:!1,draggingOut:!1,draggingZone:!1}},init:function(){var a=this;this.dropZone.on("drop",function(b){a._initState(),a.options.debug&&e("Drop done!"),a.options.onDropDone.apply(a.options.context,b)}),this.outZone.length>0&&(this.outZone.on("dragover",function(b){a._state.draggingOut||(a._state.draggingOut=!0,a._state.semaphore1?a._state.semaphore1=!1:(a.options.debug&&e("Drag outside start!"),a.options.onDragOutsideStart.apply(a.options.context,b)))}),this.outZone.on("dragleave",function(b){a._state.draggingOut&&(a._state.draggingOut=!1,a._state.semaphore1?a._state.semaphore1=!1:(a._state.semaphore1=!0,setTimeout(function(){a._state.semaphore1&&!a._state.draggingOut&&(a.options.debug&&e("Drag outside end!"),a._state.semaphore1=!1,a.options.onDragOutsideEnd.apply(a.options.context,b))},50)))})),this.dropZone.on("dragover",function(b){a._state.draggingZone||(a._state.draggingZone=!0,a._state.semaphore2?a._state.semaphore2=!1:(a.options.debug&&e("Drag inside start!"),a.options.onDragInsideStart.apply(a.options.context,b)))}),this.dropZone.on("dragleave",function(b){a._state.draggingZone&&(a._state.draggingZone=!1,a._state.semaphore2?a._state.semaphore2=!1:(a._state.semaphore2=!0,setTimeout(function(){a._state.semaphore2&&!a._state.draggingZone&&(a.options.debug&&e("Drag inside end!"),a._state.semaphore2=!1,a.options.onDragInsideEnd.apply(a.options.context,b))},50)))})}},a.fn.dragOnZone=function(b){return this.each(function(){a.data(this,"dragOnZone")||a.data(this,"dragOnZone",new f(this,b))})}}(jQuery,window,document);